/******************************************************************************/
/***          Generated by IBExpert 2008.11.27 26/12/2024 13:53:23          ***/
/******************************************************************************/



/******************************************************************************/
/***                                 Tables                                 ***/
/******************************************************************************/



CREATE TABLE CATEGORIA (
    UUID  VARCHAR(36) NOT NULL,
    NOME  VARCHAR(50)
);


CREATE TABLE CIDADE (
    UUID         VARCHAR(36) NOT NULL,
    NOME         VARCHAR(150),
    COD_IBGE     VARCHAR(10),
    UUID_ESTADO  VARCHAR(36),
    CEP          VARCHAR(8)
);


CREATE TABLE ESTADO (
    UUID   VARCHAR(36) NOT NULL,
    NOME   VARCHAR(100),
    SIGLA  VARCHAR(2)
);


CREATE TABLE HABILIDADE (
    UUID            VARCHAR(36) NOT NULL,
    UUID_CATEGORIA  VARCHAR(36) NOT NULL,
    NOME            VARCHAR(50)
);


CREATE TABLE HABILIDADE_MENTOR (
    UUID_HABILIDADE  VARCHAR(36),
    UUID_MENTOR      VARCHAR(36)
);


CREATE TABLE MENTOR_ALUNO (
    UUID            VARCHAR(36) NOT NULL,
    NOME            VARCHAR(100),
    CPF             VARCHAR(11),
    CARGO_OCUPACAO  VARCHAR(50),
    DESCRICAO       VARCHAR(300),
    CEP             VARCHAR(8),
    UUID_CIDADE     VARCHAR(36),
    UUID_ESTADO     VARCHAR(36),
    ENDERECO        VARCHAR(100),
    SENHA           VARCHAR(50),
    TIPO_USUARIO    CHAR(1),
    EMAIL           VARCHAR(100) NOT NULL,
    CONTATO         VARCHAR(20)
);


CREATE TABLE MENTORIA (
    UUID         VARCHAR(36) NOT NULL,
    UUID_MENTOR  VARCHAR(36),
    PRECO        NUMERIC(15,3),
    HORARIO      VARCHAR(8),
    NOME         VARCHAR(50)
);


CREATE TABLE MENTORIA_REALIZADA (
    UUID             VARCHAR(36) NOT NULL,
    UUID_MENTORIA    VARCHAR(36),
    UUID_ALUNO       VARCHAR(36),
    QUANTIDADE_DIAS  INTEGER,
    HORARIO          VARCHAR(8),
    DATA_INICIO      DATE,
    DATA_FIM         DATE
);




/******************************************************************************/
/***                              Primary Keys                              ***/
/******************************************************************************/

ALTER TABLE CATEGORIA ADD CONSTRAINT PK_CATEGORIA PRIMARY KEY (UUID);
ALTER TABLE CIDADE ADD CONSTRAINT PK_CIDADE PRIMARY KEY (UUID);
ALTER TABLE ESTADO ADD CONSTRAINT PK_ESTADO PRIMARY KEY (UUID);
ALTER TABLE HABILIDADE ADD CONSTRAINT PK_HABILIDADE PRIMARY KEY (UUID);
ALTER TABLE MENTORIA ADD CONSTRAINT PK_MENTORIA PRIMARY KEY (UUID);
ALTER TABLE MENTORIA_REALIZADA ADD CONSTRAINT PK_MENTORIA_REALIZADA PRIMARY KEY (UUID);
ALTER TABLE MENTOR_ALUNO ADD CONSTRAINT PK_MENTOR_ALUNO_UUID PRIMARY KEY (UUID);


/******************************************************************************/
/***                              Foreign Keys                              ***/
/******************************************************************************/

ALTER TABLE CIDADE ADD CONSTRAINT FK_CIDADE_1 FOREIGN KEY (UUID_ESTADO) REFERENCES ESTADO (UUID);
ALTER TABLE HABILIDADE ADD CONSTRAINT FK_HABILIDADE_1 FOREIGN KEY (UUID_CATEGORIA) REFERENCES CATEGORIA (UUID);
ALTER TABLE HABILIDADE_MENTOR ADD CONSTRAINT FK_HABILIDADE_MENTOR_HAB FOREIGN KEY (UUID_HABILIDADE) REFERENCES HABILIDADE (UUID);
ALTER TABLE HABILIDADE_MENTOR ADD CONSTRAINT FK_HABILIDADE_MENTOR_MENT FOREIGN KEY (UUID_MENTOR) REFERENCES MENTOR_ALUNO (UUID);
